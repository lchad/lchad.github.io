<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="Android Developer">
    

    <!--Author-->
    
        <meta name="author" content="lchad">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="获取手机的相关硬件信息"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="Android Developer" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="lchad"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>获取手机的相关硬件信息 - lchad</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', '[object Object]', 'auto');
        ga('send', 'pageview');

    </script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-96017100-1', 'auto');
  ga('send', 'pageview');

</script>

    <!-- favicon -->
    
	
</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">悄悄问圣僧,女儿美不美?</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/about">
                            
                                about
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/lchad">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('/img/android.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>获取手机的相关硬件信息</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        2015-05-09
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        

<a href="/categories/Android/">Android</a>

                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p>今天在QQ群里聊天,一个哥们在某宝买到了一个运行内存16G的手机,当时我就吓尿了,所以有了写个程序把这个手机的实际内存读出来的想法,于是就有了今天这篇博客.<br><a id="more"></a><br>所有的信息项如下图所示.(由于我的测试机没有插手机卡,所以有的信息会显示为空)<br><img src="http://upload-images.jianshu.io/upload_images/174711-3cb15053398447ee?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>以下就是代码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div></pre></td><td class="code"><pre><div class="line">package com.liu.chad.practicesqlite;  </div><div class="line">  </div><div class="line">import android.app.ActivityManager;  </div><div class="line">import android.content.Context;  </div><div class="line">import android.os.Bundle;  </div><div class="line">import android.support.v7.app.ActionBarActivity;  </div><div class="line">import android.telephony.TelephonyManager;  </div><div class="line">import android.text.format.Formatter;  </div><div class="line">import android.util.Log;  </div><div class="line">import android.widget.TextView;  </div><div class="line">  </div><div class="line">import java.io.BufferedReader;  </div><div class="line">import java.io.FileNotFoundException;  </div><div class="line">import java.io.FileReader;  </div><div class="line">import java.io.IOException;  </div><div class="line">import java.io.InputStream;  </div><div class="line">  </div><div class="line">public class MainActivity extends ActionBarActivity &#123;  </div><div class="line">  </div><div class="line">    private TextView mTextView;  </div><div class="line">  </div><div class="line">    @Override  </div><div class="line">    protected void onCreate(Bundle savedInstanceState) &#123;  </div><div class="line">        super.onCreate(savedInstanceState);  </div><div class="line">        setContentView(R.layout.activity_main);  </div><div class="line">  </div><div class="line">        mTextView = (TextView) findViewById(R.id.textViewId);  </div><div class="line">        getPhoneInfo();  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    /** </div><div class="line">     * 获取手机信息 </div><div class="line">     */  </div><div class="line">    public void getPhoneInfo() &#123;  </div><div class="line">        TelephonyManager tm = (TelephonyManager) this.getSystemService(TELEPHONY_SERVICE);  </div><div class="line">        String mtyb = android.os.Build.BRAND;// 手机品牌  </div><div class="line">        String mtype = android.os.Build.MODEL; // 手机型号  </div><div class="line">        String imei = tm.getDeviceId();  </div><div class="line">        String imsi = tm.getSubscriberId();  </div><div class="line">        String numer = tm.getLine1Number(); // 手机号码  </div><div class="line">        String serviceName = tm.getSimOperatorName(); // 运营商  </div><div class="line">        mTextView.setText(&quot;品牌: &quot; + mtyb + &quot;\n&quot; + &quot;型号: &quot; + mtype + &quot;\n&quot; + &quot;版本: Android &quot;  </div><div class="line">                + android.os.Build.VERSION.RELEASE + &quot;\n&quot; + &quot;IMEI: &quot; + imei  </div><div class="line">                + &quot;\n&quot; + &quot;IMSI: &quot; + imsi + &quot;\n&quot; + &quot;手机号码: &quot; + numer + &quot;\n&quot;  </div><div class="line">                + &quot;运营商: &quot; + serviceName + &quot;\n&quot;);  </div><div class="line">        mTextView.append(&quot;总内存: &quot; + getTotalMemory() + &quot;\n&quot;);  </div><div class="line">        mTextView.append(&quot;当前可用内存: &quot; + getAvailMemory() + &quot;\n&quot;);  </div><div class="line">        mTextView.append(&quot;CPU名字: &quot; + getCpuName() + &quot;\n&quot;);  </div><div class="line">        mTextView.append(&quot;CPU最大频率: &quot; + getMaxCpuFreq() + &quot;\n&quot;);  </div><div class="line">        mTextView.append(&quot;CPU最小频率: &quot; + getMinCpuFreq() + &quot;\n&quot;);  </div><div class="line">        mTextView.append(&quot;CPU当前频率: &quot; + getCurCpuFreq() + &quot;\n&quot;);  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    /** </div><div class="line">     * 获取手机内存大小 </div><div class="line">     * </div><div class="line">     * @return </div><div class="line">     */  </div><div class="line">    private String getTotalMemory() &#123;  </div><div class="line">        String str1 = &quot;/proc/meminfo&quot;;// 系统内存信息文件  </div><div class="line">        String str2;  </div><div class="line">        String[] arrayOfString;  </div><div class="line">        long initial_memory = 0;  </div><div class="line">        try &#123;  </div><div class="line">            FileReader localFileReader = new FileReader(str1);  </div><div class="line">            BufferedReader localBufferedReader = new BufferedReader(localFileReader, 8192);  </div><div class="line">            str2 = localBufferedReader.readLine();// 读取meminfo第一行，系统总内存大小  </div><div class="line">  </div><div class="line">            arrayOfString = str2.split(&quot;\\s+&quot;);  </div><div class="line">            for (String num : arrayOfString) &#123;  </div><div class="line">                Log.i(str2, num + &quot;\t&quot;);  </div><div class="line">            &#125;  </div><div class="line">  </div><div class="line">            initial_memory = Integer.valueOf(arrayOfString[1]).intValue() * 1024;// 获得系统总内存，单位是KB，乘以1024转换为Byte  </div><div class="line">            localBufferedReader.close();  </div><div class="line">  </div><div class="line">        &#125; catch (IOException e) &#123;  </div><div class="line">        &#125;  </div><div class="line">        return Formatter.formatFileSize(getBaseContext(), initial_memory);// Byte转换为KB或者MB，内存大小规格化  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    /** </div><div class="line">     * 获取当前可用内存大小 </div><div class="line">     * </div><div class="line">     * @return </div><div class="line">     */  </div><div class="line">    private String getAvailMemory() &#123;  </div><div class="line">        ActivityManager am = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);  </div><div class="line">        ActivityManager.MemoryInfo mi = new ActivityManager.MemoryInfo();  </div><div class="line">        am.getMemoryInfo(mi);  </div><div class="line">        return Formatter.formatFileSize(getBaseContext(), mi.availMem);  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    public static String getMaxCpuFreq() &#123;  </div><div class="line">        String result = &quot;&quot;;  </div><div class="line">        ProcessBuilder cmd;  </div><div class="line">        try &#123;  </div><div class="line">            String[] args = &#123;&quot;/system/bin/cat&quot;,  </div><div class="line">                    &quot;/sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_max_freq&quot;&#125;;  </div><div class="line">            cmd = new ProcessBuilder(args);  </div><div class="line">            Process process = cmd.start();  </div><div class="line">            InputStream in = process.getInputStream();  </div><div class="line">            byte[] re = new byte[24];  </div><div class="line">            while (in.read(re) != -1) &#123;  </div><div class="line">                result = result + new String(re);  </div><div class="line">            &#125;  </div><div class="line">            in.close();  </div><div class="line">        &#125; catch (IOException ex) &#123;  </div><div class="line">            ex.printStackTrace();  </div><div class="line">            result = &quot;N/A&quot;;  </div><div class="line">        &#125;  </div><div class="line">        return result.trim() + &quot;Hz&quot;;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    // 获取CPU最小频率（单位KHZ）  </div><div class="line">  </div><div class="line">    public static String getMinCpuFreq() &#123;  </div><div class="line">        String result = &quot;&quot;;  </div><div class="line">        ProcessBuilder cmd;  </div><div class="line">        try &#123;  </div><div class="line">            String[] args = &#123;&quot;/system/bin/cat&quot;,  </div><div class="line">                    &quot;/sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_min_freq&quot;&#125;;  </div><div class="line">            cmd = new ProcessBuilder(args);  </div><div class="line">            Process process = cmd.start();  </div><div class="line">            InputStream in = process.getInputStream();  </div><div class="line">            byte[] re = new byte[24];  </div><div class="line">            while (in.read(re) != -1) &#123;  </div><div class="line">                result = result + new String(re);  </div><div class="line">            &#125;  </div><div class="line">            in.close();  </div><div class="line">        &#125; catch (IOException ex) &#123;  </div><div class="line">            ex.printStackTrace();  </div><div class="line">            result = &quot;N/A&quot;;  </div><div class="line">        &#125;  </div><div class="line">        return result.trim() + &quot;Hz&quot;;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    // 实时获取CPU当前频率（单位KHZ）  </div><div class="line">  </div><div class="line">    public static String getCurCpuFreq() &#123;  </div><div class="line">        String result = &quot;N/A&quot;;  </div><div class="line">        try &#123;  </div><div class="line">            FileReader fr = new FileReader(  </div><div class="line">                    &quot;/sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq&quot;);  </div><div class="line">            BufferedReader br = new BufferedReader(fr);  </div><div class="line">            String text = br.readLine();  </div><div class="line">            result = text.trim() + &quot;Hz&quot;;  </div><div class="line">        &#125; catch (FileNotFoundException e) &#123;  </div><div class="line">            e.printStackTrace();  </div><div class="line">        &#125; catch (IOException e) &#123;  </div><div class="line">            e.printStackTrace();  </div><div class="line">        &#125;  </div><div class="line">        return result;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    public static String getCpuName() &#123;  </div><div class="line">        try &#123;  </div><div class="line">            FileReader fr = new FileReader(&quot;/proc/cpuinfo&quot;);  </div><div class="line">            BufferedReader br = new BufferedReader(fr);  </div><div class="line">            String text = br.readLine();  </div><div class="line">            String[] array = text.split(&quot;:\\s+&quot;, 2);  </div><div class="line">            for (int i = 0; i &lt; array.length; i++) &#123;  </div><div class="line">            &#125;  </div><div class="line">            return array[1];  </div><div class="line">        &#125; catch (FileNotFoundException e) &#123;  </div><div class="line">            e.printStackTrace();  </div><div class="line">        &#125; catch (IOException e) &#123;  </div><div class="line">            e.printStackTrace();  </div><div class="line">        &#125;  </div><div class="line">        return null;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>布局文件就是一个TextView,我就不在这里贴出来了.</p>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    
                        <li>
                            <a href="https://github.com/lchad" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="https://github.com/lchad" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="https://github.com/lchad" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="mailto:liucaidong18@gmail.com" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2017 lchad<br></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>